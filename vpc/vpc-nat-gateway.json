{
	"AWSTemplateFormatVersion": "2010-09-09",
	"Description": "VPC: NAT Gateway for private subnets, a cloudonaut.io template",
	"Parameters": {
		"PublicSubnet": {
			"Description": "Use SubnetAPublic, SubnetBPublic, SubnetCPublic, or SubnetDPublic output from vpc/vpc-*azs stack.",
			"Type": "AWS::EC2::Subnet::Id"
		},
		"RouteTablePrivate": {
			"Description": "Use RouteTablePrivate output from vpc/vpc-*azs stack.",
			"Type": "String"
		}
	},
	"Resources": {
		"EIP": {
			"Type": "AWS::EC2::EIP",
			"Properties": {
				"Domain": "vpc"
			}
		},
		"NatGateway": {
			"Type": "AWS::EC2::NatGateway",
			"Properties": {
				"AllocationId": {"Fn::GetAtt": ["EIP", "AllocationId"]},
				"SubnetId": {"Ref": "PublicSubnet"}
			}
		},
		"Route": {
			"Type": "AWS::EC2::Route",
			"Properties": {
				"RouteTableId": {"Ref": "RouteTablePrivate"},
				"DestinationCidrBlock": "0.0.0.0/0",
				"NatGatewayId": {"Ref": "NatGateway"}
			}
		}
	},
	"Outputs": {
	}
}
